<mat-card>
  <mat-card-title>Template title</mat-card-title>
  <br>

  <div class="form-group">
    <mat-form-field appearance="outline" class="half-width">
      <input class="form-control" id="title" type="text" matInput [(ngModel)]="title" placeholder="Template title"/>

    </mat-form-field>
    <mat-error class="error">
      {{errorMessage}}
    </mat-error>
  </div>

  <mat-divider></mat-divider>

  <br>
  <mat-card-content>

    <div class="row">
      <div class="column-2">

        <!-- LEFT SIDE -->

        <div class="form-group">
          <mat-label>Location</mat-label>
          <mat-form-field appearance="outline">
            <input class="form-control" id="location" type="text" matInput [(ngModel)]="templateValues.location"
                   placeholder="Location"/>
            <button mat-icon-button matSuffix (click)="addItem('location', templateValues.location)">
              <mat-icon>add_circle_outline</mat-icon>
            </button>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-label>Plant</mat-label>
          <mat-form-field appearance="outline">
            <input class="form-control" id="plant" type="text" matInput [(ngModel)]="templateValues.plant"
                   placeholder="Plant"/>
            <button mat-icon-button matSuffix (click)="addItem('plant', templateValues.plant)">
              <mat-icon>add_circle_outline</mat-icon>
            </button>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-label>Zones</mat-label>
          <mat-form-field appearance="outline">
            <input class="form-control" id="zones" type="text" matInput [(ngModel)]="templateValues.zones"
                   placeholder="Zones"/>
            <button mat-icon-button matSuffix (click)="addItem('zones', templateValues.zones)">
              <mat-icon>add_circle_outline</mat-icon>
            </button>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-label>Aisles</mat-label>
          <mat-form-field appearance="outline">
            <input class="form-control" id="aisles" type="text" matInput [(ngModel)]="templateValues.aisles"
                   placeholder="Aisles"/>
            <button mat-icon-button matSuffix (click)="addItem('aisles', templateValues.aisles)">
              <mat-icon>add_circle_outline</mat-icon>
            </button>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-label>Bins</mat-label>
          <mat-form-field appearance="outline">
            <input class="form-control" id="bins" type="text" matInput [(ngModel)]="templateValues.bins"
                   placeholder="Bins"/>
            <button mat-icon-button matSuffix (click)="addItem('bins', templateValues.bins)">
              <mat-icon>add_circle_outline</mat-icon>
            </button>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-label>Part Number</mat-label>
          <mat-form-field appearance="outline">
            <input class="form-control" id="part_number" type="text" matInput [(ngModel)]="templateValues.part_number"
                   placeholder="Part Number"/>
            <button mat-icon-button matSuffix (click)="addItem('part_number', templateValues.part_number)">
              <mat-icon>add_circle_outline</mat-icon>
            </button>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-label>Serial Number</mat-label>
          <mat-form-field appearance="outline">
            <input class="form-control" id="serial_number" type="text" matInput
                   [(ngModel)]="templateValues.serial_number" placeholder="Serial Number"/>
            <button mat-icon-button matSuffix
                    (click)="addItem('serial_number', templateValues.serial_number)">
              <mat-icon>add_circle_outline</mat-icon>
            </button>
          </mat-form-field>
        </div>
      </div>

      <!-- RIGHT SIDE -->

        <div class="column no-border">
          <mat-card-title>Selected Fields</mat-card-title>
          <mat-chip-list aria-label="Location">
            <div *ngFor="let loc of template | keyvalue">
              <mat-chip *ngFor="let value of loc.value"
                        [removable]="true" (removed)="remove(loc.key, value)">
                {{loc.key.replace('_', ' ') | titlecase}}: {{value}}
                <mat-icon matChipRemove>cancel</mat-icon>
              </mat-chip>
            </div>
          </mat-chip-list>
        </div>

      <br>
      <mat-form-field appearance="outline">
          <textarea rows="5" id="description" matInput [(ngModel)]="description"
                    placeholder="Description"></textarea>
      </mat-form-field>

      <!-- SCHEDULING -->

      <br>
      <mat-card-title id="center-title">Scheduling</mat-card-title>
      <br>

      <div class="form-group half-width">
        <mat-label>Start Date</mat-label>
        <mat-form-field appearance="outline">
          <input matInput [matDatepicker]="datePick" [min]="todaysDate" disabled class="form-control" id="date"
                 type="text" placeholder="DD/MM/YYYY">
          <mat-datepicker-toggle [for]="datePick" matSuffix class="icon-color"></mat-datepicker-toggle>
          <mat-datepicker #datePick disabled="false"></mat-datepicker>
        </mat-form-field>
      </div>

      <div class="form-group half-width">
        <mat-label>Start time</mat-label>
        <mat-form-field appearance="outline">
          <mat-icon class="icon-color" matSuffix>schedule</mat-icon>
          <input class="form-control" id="time" type="time" matInput placeholder="Start time"/>
        </mat-form-field>
      </div>

      <mat-accordion class="example-headers-align" multi>
        <mat-expansion-panel class="half-width" [(expanded)]="panelOpenState">
          <mat-expansion-panel-header>
            <mat-panel-title>Recurrence</mat-panel-title>
          </mat-expansion-panel-header>

          <div class="form-group">
            <div class="row">
              <div class="column-3 text-padding-left-align">
                <mat-label>Repeat every</mat-label>
              </div>
              <div class="column-3">
                <mat-form-field appearance="outline" class="small-font">
                  <input class="form-control" id="repeat" type="number" min="1" max="10000" matInput
                         [(ngModel)]="repeatNum"/>
                </mat-form-field>&nbsp;&nbsp;
              </div>
              <div class="column-3">
                <mat-form-field floatLabel="never" appearance="outline" class="small-font">
                  <mat-select [(ngModel)]="repeatDWMY" (selectionChange)="selectionChange($event)">
                    <mat-option value="option1">day(s)</mat-option>
                    <mat-option value="option2">week(s)</mat-option>
                    <mat-option value="option3">month(s)</mat-option>
                    <mat-option value="option4">year(s)</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>

            <ng-container *ngIf="repeatOnSection">
              <mat-label>Repeat on</mat-label>
              <br><br><br>
              <mat-checkbox [(ngModel)]="checkSun" class="button-padding circular-shape">Sun</mat-checkbox>
              <mat-checkbox [(ngModel)]="checkMon" class="button-padding circular-shape">Mon</mat-checkbox>
              <mat-checkbox [(ngModel)]="checkTues" class="button-padding circular-shape">Tues</mat-checkbox>
              <mat-checkbox [(ngModel)]="checkWed" class="button-padding circular-shape">Wed</mat-checkbox>
              <mat-checkbox [(ngModel)]="checkThurs" class="button-padding circular-shape">Thurs</mat-checkbox>
              <mat-checkbox [(ngModel)]="checkFri" class="button-padding circular-shape">Fri</mat-checkbox>
              <mat-checkbox [(ngModel)]="checkSat" class="button-padding circular-shape">Sat</mat-checkbox>
            </ng-container>
            <br><br><br>

            <mat-label>Ends</mat-label>
            <br><br>
            <mat-radio-group class="radio-group" [(ngModel)]="radioSelectedVal">

              <mat-radio-button class="button-padding" (change)="radioChange($event)" value="Never">Never
              </mat-radio-button>

              <div class="row padding-top-row">
                <div class="column-2 no-border text-padding-left-align">
                  <mat-radio-button class="button-padding" (change)="radioChange($event)" value="On">On
                  </mat-radio-button>
                </div>
                <div class="column-2 no-border small-font">

                  <mat-form-field appearance="outline">
                    <input matInput [matDatepicker]="datePickRec" [min]="todaysDate" disabled class="form-control"
                           id="daterec"
                           type="text" placeholder="DD/MM/YYYY" [(ngModel)]="OnDate">
                    <mat-datepicker-toggle [for]="datePickRec" matSuffix class="icon-color"></mat-datepicker-toggle>
                    <mat-datepicker #datePickRec [disabled]="calendarRepeatOn"></mat-datepicker>
                  </mat-form-field>

                </div>
              </div>

              <div class="row">
                <div class="column-2 no-border text-padding-left-align">
                  <mat-radio-button class="button-padding" (change)="radioChange($event)" value="After">After
                  </mat-radio-button>
                </div>
                <div class="column-2 no-border small-font">
                  <mat-form-field appearance="outline" class="align-side-by-side">
                    <input class="form-control" id="repeatrec" type="number" min="1" max="10000" matInput
                           [disabled]="calendarRepeatAfter" [(ngModel)]="afterOccurent"/>
                    <span matSuffix>occurence</span>
                  </mat-form-field>
                </div>
              </div>

            </mat-radio-group>

            <div class="position-right">
              <button mat-stroked-button (click)="resetForm()">CANCEL</button>
            </div>

          </div>

        </mat-expansion-panel>
      </mat-accordion>
      <br>

      <div class="form-group half-width">
        <mat-label>Time zone</mat-label>
        <mat-form-field floatLabel="never" appearance="outline">
          <mat-select [value]="defaultTimeZoneOption">
            <mat-option *ngFor="let timezone of timeZone" [value]="timezone.text">
              {{ timezone.text }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>

    <mat-card-footer>
      <div class="center-aligned">
        <div class="button-side-by-side">
          <button mat-stroked-button id="create-template-button" class="save-button-bg" (click)="submit()">
            {{templateButtonLabel}}</button>
        </div>
        <div class="button-side-by-side">
          <button mat-stroked-button routerLink="/template">CANCEL</button>
        </div>
      </div>
    </mat-card-footer>
    <br>
  </mat-card-content>
</mat-card>
